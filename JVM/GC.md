### Garbage Collection（垃圾回收算法）

- **引用计数**算法

  对象被引用一次则加一，失去一个引用则减一。

  由于存在循环引用的问题，所以 JVM 不采用这种算法。

- **可达性分析**算法

  以 Java Roots 为起点进行搜索，可达的对象都是存活的，不可达的对象被回收。

  JVM 使用这种方法来判断对象是否可以被回收。

  包含以下内容：

  - 虚拟机栈中局部变量表中引用的对象
  - 本地方法栈中 JNI 中引用的对象
  - 方法区中类静态属性引用的对象
  - 方法区中的常量引用的对象

- 方法区的回收

  方法区主要存放**永久代对象**，在方法区进行回收的性价比不高。

  主要对**常量池的回收**和对**类的卸载**。

  类的卸载条件：

  - 该类所有的实例都已经被回收，此时堆中不存在该类的任何实例。
  - 加载该类的 ClassLoader 已经被回收。
  - 该类对应的 Class 对象没有在任何地方被引用，也就无法在任何地方通过反射访问该类方法。

- 